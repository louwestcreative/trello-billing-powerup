<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Billing & Payments</title>
  <script src="https://p.trellocdn.com/power-up.min.js"></script>
  <link rel="stylesheet" href="./style.css" />
  <style>
    /* Inline fallback styles */
    body { font-family: Arial, sans-serif; padding: 12px; max-width: 560px; background: #f9f9f9; }
    .section { background: white; padding: 12px; border-radius: 6px; margin-bottom: 14px; box-shadow: 0 1px 4px rgba(0,0,0,.06); }
    label { display:block; margin-top:8px; font-weight:600; }
    input, select { width:100%; padding:8px; margin-top:6px; box-sizing:border-box; border:1px solid #ccc; border-radius:4px; }
    button { margin-top:10px; padding:10px; background:#0079bf; color:white; border:none; border-radius:4px; cursor:pointer; }
    table { width:100%; border-collapse:collapse; margin-top:8px; }
    th, td { border:1px solid #e6e6e6; padding:6px; text-align:left; }
    .muted { color:#666; font-size:0.95em; }
    .delete-btn { background:#d9534f; padding:6px 8px; border-radius:4px; color:white; border:none; cursor:pointer; }
    .small { font-size:0.9em; color:#444; }
  </style>
</head>
<body>
  <h2>Billing & Payments</h2>
  <div id="info" class="muted">Loading card billing info…</div>

  <div class="section" id="charge-section">
    <h3 id="charge-title">Add Charge</h3>

    <div id="gal-fields">
      <label for="charge-type">Charge Type</label>
      <select id="charge-type">
        <option value="" disabled selected>Select type</option>
        <option value="Retainer">Retainer</option>
        <option value="Added Fees">Added Fees</option>
        <option value="Testimony">Testimony</option>
      </select>

      <label for="charge-amount">Amount ($)</label>
      <input id="charge-amount" type="number" step="0.01" min="0" placeholder="Enter amount" />
    </div>

    <div id="cv-fields" style="display:none">
      <label for="hours">Hours</label>
      <input id="hours" type="number" step="0.25" min="0" placeholder="Enter hours" />
      <div class="muted" id="rate-note">Rate: $0/hr — Amount will auto-calc</div>
    </div>

    <label for="charge-date">Date</label>
    <input id="charge-date" type="date" />

    <button id="add-charge-btn">Add Charge</button>
  </div>

  <div class="section" id="payment-section">
    <h3>Record Payment</h3>

    <label for="payment-date">Date</label>
    <input id="payment-date" type="date" />

    <label for="payment-amount">Amount ($)</label>
    <input id="payment-amount" type="number" step="0.01" min="0" />

    <button id="add-payment-btn">Add Payment</button>
  </div>

  <div class="section">
    <h3>Summary</h3>
    <div id="summary">Loading…</div>
  </div>

  <div class="section">
    <h3>Charges Log</h3>
    <table id="charges-table"><thead><tr><th>Type/Hours</th><th>Date</th><th>Amount</th><th></th></tr></thead><tbody></tbody></table>
  </div>

  <div class="section">
    <h3>Payments Log</h3>
    <table id="payments-table"><thead><tr><th>Date</th><th>Amount</th><th></th></tr></thead><tbody></tbody></table>
  </div>

  <script src="./billing.js"></script>
</body>
</html>
